---
name: Multi Selects
route: /components/multiselect
components: AMultiSelect
title: AMultiSelect
sourceCodeLink: https://github.com/cisco-sbg-ui/magna-react/tree/canary/framework/components/AMultiSelect
---

## Usage

### Import

<ComponentImport components="AMultiSelect" />

### Usage

<Playground
  withTwoPanes
  code={`() => {
  const items = [
    {id: 1, name: "Bread, Cereal, Rice, and Pasta"},
    {id: 2, name: "Vegetables"},
    {id: 3, name: "Fruit", selected: true},
    {id: 4, name: "Milk, Yogurt, and Cheese"},
    {id: 5, name: "Meat, Poultry, Fish", disabled: true},
    {id: 6, name: "Fats, Oils, and Sweets"}
  ];
  const [value1, setValue1] = useState([]);
  const [value2, setValue2] = useState([]);
  const [value3, setValue3] = useState([]);
  return (
    <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
      <h3>MultiSelect with Objects</h3>
      <AMultiSelect
        label="Food Group"
        items={items}
        itemValue="id"
        itemText="name"
        placeholder="Pick a Food Group"
        onSelected={(newValue) => {
          setValue1(newValue);
        }}
        value={value1}
      />
      <ADivider />
      <AMultiSelect
        medium
        label="Medium (default)"
        items={items}
        itemValue="id"
        itemText="name"
        placeholder="Pick a Food Group"
        onSelected={(newValue) => {
          setValue2(newValue);
        }}
        value={value2}
      />
      <ADivider />
      <AMultiSelect
        large
        label="Large"
        items={items}
        itemValue="id"
        itemText="name"
        placeholder="Pick a Food Group"
        onSelected={(newValue) => {
          setValue3(newValue);
        }}
        value={value3}
      />
    </div>
  );
}
`}
/>

#### With tags

<Playground
withTwoPanes
  code={`() => {
  const items = [
    "Bread, Cereal, Rice, and Pasta",
    "Vegetables",
    "Fruit",
    "Milk, Yogurt, and Cheese",
    "Meat, Poultry, Fish",
    "Fats, Oils, and Sweets"
  ];
  const [value, setValue] = useState([]);
  return (
    <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
      <AMultiSelect
        medium
        withTags
        clearable
        label="Food Group"
        items={items}
        placeholder="Pick a Food Group"
        onSelected={(item) => {
          setValue(item);
        }}
        value={value}
      />
    </div>

);
}
`}
/>

#### Validation

<Playground
  withTwoPanes
  code={`() => {
  const items = [
    "Bread, Cereal, Rice, and Pasta",
    "Vegetables",
    "Fruit",
    "Milk, Yogurt, and Cheese",
    "Meat, Poultry, Fish",
    "Fats, Oils, and Sweets"
  ];
  const [value, setValue] = useState([]);
  return (
    <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
      <AMultiSelect
        medium
        clearable
        label="Food Group"
        items={items}
        placeholder="Pick a Food Group"
        onSelected={(item) => {
          setValue(item);
        }}
        required
        rules={[
          {
            test: (v) => /[A-Z]+/.test(v) || "Must have a capital letter",
            level: "warning"
          }
        ]}
        value={value}
      />
    </div>
  );
}
`}
/>

#### Custom Filtering

If the items list is of objects, and a text and or object+key search won't work, use the "filterFunction" to define custom filtering.

<Playground
withTwoPanes
  code={`() => {
  const items = [
    "Bread, Cereal, Rice, and Pasta",
    "Vegetables",
    "Fruit",
    "Milk, Yogurt, and Cheese",
    "Meat, Poultry, Fish",
    "Fats, Oils, and Sweets"
  ];
  const [value, setValue] = useState([]);
  return (
    <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
      <AMultiSelect
        clearable
        label="Food Group"
        items={items}
        placeholder="Pick a Food Group"
        onSelected={(item) => {
          setValue(item);
        }}
        value={value}
        filterFunction={(val, item) => {
          return item.toLocaleLowerCase().includes(val.toLocaleLowerCase())
        }}
      />
    </div>

);
}
`}
/>

#### Read-only Input

If you need a multiselect, but want to disable the typing search.

<Playground
withTwoPanes
  code={`() => {
  const items = [
    "Bread, Cereal, Rice, and Pasta",
    "Vegetables",
    "Fruit",
    "Milk, Yogurt, and Cheese",
    "Meat, Poultry, Fish",
    "Fats, Oils, and Sweets"
  ];
  const [value, setValue] = useState([]);
  return (
    <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
      <AMultiSelect
        readOnlyInput
        clearable
        label="Food Group"
        items={items}
        placeholder="Pick a Food Group"
        onSelected={(item) => {
          setValue(item);
        }}
        value={value}
      />
    </div>

);
}
`}
/>

#### States

<Playground
  withTwoPanes
  code={`<>
  <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
    <h3>Default</h3>
    <AMultiSelect
      medium
      clearable
      label="Food Group"
      items={[
        "Bread, Cereal, Rice, and Pasta",
        "Vegetables",
        "Fruit",
        "Milk, Yogurt, and Cheese",
        "Meat, Poultry, Fish",
        "Fats, Oils, and Sweets"
      ]}
      placeholder="Pick a Food Group"
      hint="Hint: Clearable"
    />
  </div>
  <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
    <h3>Disabled MultiSelect</h3>
    <AMultiSelect
      medium
      disabled
      label="Food Group"
      placeholder="Pick a Food Group"
      hint="Hint: Disabled"
    />
  </div>
  <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
    <h3>Read-only MultiSelect</h3>
    <AMultiSelect
      medium
      readOnly
      label="Food Group"
      placeholder="Pick a Food Group"
      hint="Hint: Read-only"
    />
  </div>
  <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
    <h3>Warning MultiSelect</h3>
    <AMultiSelect
      medium
      label="Food Group"
      placeholder="Pick a Food Group"
      hint="Hint: Warning"
      validationState="warning"
    />
  </div>
  <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
    <h3>Danger MultiSelect</h3>
    <AMultiSelect
      medium
      label="Food Group"
      placeholder="Pick a Food Group"
      hint="Hint: Danger"
      validationState="danger"
    />
  </div>
  <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
    <h3>No Data MultiSelect</h3>
    <AMultiSelect
      medium
      label="Food Group"
      placeholder="Pick a Food Group"
      noDataContent="Check again when we restock!"
      hint="Hint: No Data"
    />
  </div>
</>
`}
/>

#### Prepend/Append Content

<Playground
  code={`() => {
  const items = [
    "Bread, Cereal, Rice, and Pasta",
    "Vegetables",
    "Fruit",
    "Milk, Yogurt, and Cheese",
    "Meat, Poultry, Fish",
    "Fats, Oils, and Sweets"
  ];
  const [value, setValue] = useState([]);
  const [filteredItems, setFilteredItems] = useState(items);
  return (
    <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
      <AMultiSelect
        medium
        prependContent={<AListItem twoLine className="my-1 mx-2">Advertisement</AListItem>}
        appendContent={<><ADivider className="ma-0" /><AListItem><AIcon size={12} left>add</AIcon>Add Role</AListItem></>}
        clearable
        label="Food Group"
        items={filteredItems}
        placeholder="Pick a Food Group"
        onSelected={(item) => {
          setValue(item);
        }}
        value={value}
      />
    </div>

);
}
`}
/>

#### Menu Item Templates

If the `itemTemplate` doesn't include a checkbox to indicate selected values, `withTags` should be set to true.

<Playground
  code={`() => {
  const items = [
    {id: 1, name: "Bread, Cereal, Rice, and Pasta", healthy: true},
    {id: 2, name: "Vegetables", healthy: true},
    {id: 3, name: "Fruit", selected: true, healthy: true},
    {id: 4, name: "Milk, Yogurt, and Cheese", healthy: true},
    {id: 5, name: "Meat, Poultry, Fish", disabled: true, healthy: true},
    {id: 6, name: "Fats, Oils, and Sweets", healthy: false}
  ];
  const [value, setValue] = useState([]);
  const [filteredItems, setFilteredItems] = useState(items);
  const {isDark} = useATheme();
  return (
    <div style={{minHeight: 220, minWidth: 250, marginRight: 20}}>
      <AMultiSelect
        medium
        withTags
        itemTemplate={({className, index, item, onClick, ...rest}) => (
          <AListItem {...rest} twoLine className={className + (isDark ? " white--text" : " grey--darken-7--text")} style={{backgroundColor: "transparent"}}>
            <AListItemContent onClick={onClick}>
              <AListItemTitle>{item.name}</AListItemTitle>
              <AListItemSubtitle>Healthy? {item.healthy ? "Yes" : "No"}</AListItemSubtitle>
            </AListItemContent>
            <AListItemAction>
              <AButton icon tertiary><AIcon>edit</AIcon></AButton>
            </AListItemAction>
          </AListItem>
        )}
        clearable
        label="Food Group"
        itemText="name"
        itemValue="id"
        items={filteredItems}
        placeholder="Pick a Food Group"
        onSelected={(newValue) => {
          setValue(newValue);
        }}
        value={value}
      />
    </div>
  );
}
`}
/>

## Component Props

The `AMultiSelect` component inherits passed props.

<Props of="AMultiSelect" />

## Accessibility Notes

`AMultiSelect` inherits the accessibility features of `AMenu`.

the `AMultiSelect` will select and focus previous/next items on `up` or `down` keys for the `keydown` event.
